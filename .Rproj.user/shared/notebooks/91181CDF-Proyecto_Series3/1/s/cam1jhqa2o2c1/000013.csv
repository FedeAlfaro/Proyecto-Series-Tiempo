"0","# Asegúrate de que 'date_time' esté en formato POSIXct"
"0","trafico <- trafico %>%"
"0","  mutate(date_time = as.POSIXct(date_time, format = ""%Y-%m-%d %H:%M:%S""))"
"0",""
"0","# Filtrar los outliers correctamente"
"0","trafico_clean <- trafico %>%"
"0","  filter(between(rain_1h, quantile(rain_1h, 0.00001), quantile(rain_1h, 0.99999))) %>%"
"0","  filter(between(temp, quantile(temp, 0.001), quantile(temp, 0.999)))"
"0",""
"0","# Datos originales"
"0","p1 <- ggplot(trafico, aes(x = date_time, y = rain_1h, group = 1)) +"
"0","  geom_line() +"
"0","  labs(title = ""rain_1h con outliers"","
"0","       x = ""Fecha"","
"0","       y = ""rain_1h"") +"
"0","  theme_minimal()"
"0",""
"0","p2 <- ggplot(trafico, aes(x = date_time, y = temp, group = 1)) +"
"0","  geom_line() +"
"0","  labs(title = ""temp con outliers"","
"0","       x = ""Fecha"","
"0","       y = ""Temp"") +"
"0","  theme_minimal()"
"0",""
"0","# Datos filtrados"
"0","p3 <- ggplot(trafico_filtrado, aes(x = date_time, y = rain_1h, group = 1)) +"
"0","  geom_line() +"
"0","  labs(title = ""rain_1h sin outliers"","
"0","       x = ""Fecha"","
"0","       y = ""rain_1h"") +"
"0","  theme_minimal()"
"0",""
"0","p4 <- ggplot(trafico_filtrado, aes(x = date_time, y = temp, group = 1)) +"
"0","  geom_line() +"
"0","  labs(title = ""temp sin outliers"","
"0","       x = ""Fecha"","
"0","       y = ""Temp"") +"
"0","  theme_minimal()"
"0",""
"0","# Combinar los gráficos"
"0","grid.arrange(p1, p2, p3, p4, ncol = 2, nrow = 2)"
